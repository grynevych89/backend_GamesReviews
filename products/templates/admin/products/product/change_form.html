{% extends "admin/change_form.html" %}
{% load static %}
{% load i18n %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'admin/products/css/custom_admin.css' %}">
{% endblock %}

{% block extrahead %}
{{ block.super }}
<script src="{% static 'admin/products/js/toggle_is_active.js' %}"></script>
<script src="{% static 'admin/products/js/move_rating_field.js' %}"></script>
<script src="{% static 'admin/products/js/validate_rating.js' %}"></script>
<script src="{% static 'admin/products/js/dynamic_rating_labels.js' %}"></script>
{% endblock %}

{% block object-tools %}
    {{ block.super }}
{% endblock %}

{% block submit_buttons_top %}
<div class="object-tools-flex top-inline-panel">

    <!-- Is Active Toggle -->
    <div class="is-active-toggle">
        <span class="label">Is Active?</span>
        <label class="switch-toggle">
            <input type="checkbox" id="is-active-toggle"
                   {% if change and original.pk %}
                       data-url="{% url toggle_active_url_name original.pk %}"
                   {% else %}
                       data-url=""
                   {% endif %}
                   {% if original and original.is_active %}checked{% endif %}>
            <span class="switch-slider"></span>
        </label>
    </div>

    <!-- Save button -->
    <div class="submit-row">
        <input type="submit" value="{% trans 'Save' %}" class="default" name="_save" />
    </div>

    <!-- Rating field (звёзды переносятся сюда JS-ом) -->
    {% if show_rating %}
    <div class="rating-field" id="top-rating-field">
        Оценка:
    </div>
    {% endif %}

</div>
{% endblock %}

{% block submit_buttons_bottom %}
  <input type="submit" value="{% trans 'Save' %}" class="default" name="_save" />
{% endblock %}
